<table class="table">
  <thead>
    <tr>
      <th>Id</th>
      <th>Customer Name</th>
      <th>Email</th>
      <th>Company</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let customer of customers">
      <td>{{ customer.id }}</td>
      <td>{{ customer.firstName + " " + customer.lastName }}</td>
      <td>{{ customer.email }}</td>
      <td>{{ customer.companyName }}</td>
      <td>
        <button type="button" class="btn btn-danger" (click)="open(content)">
          Edit
        </button>
      </td>
    </tr>
  </tbody>
</table>

<div>
  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Edit Customer Data</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="card">
        <div class="card-body">
          <form [formGroup]="customerDetailsForm">
            <div class="mb-3">
              <label for="firstName">First Name:</label>
              <div class="form-group">
                <input
                  type="text"
                  id="firstName"
                  formControlName="firstName"
                  class="form-control"
                  [(ngModel)]="firstName"
                />
              </div>
            </div>
            <div class="mb-3">
              <label for="lastName">Last Name:</label>
              <div class="form-group">
                <input
                  type="text"
                  id="lastName"
                  formControlName="lastName"
                  class="form-control"
                  [(ngModel)]="lastName"
                />
              </div>
            </div>
            <div class="mb-3">
              <label for="email">Email:</label>
              <div class="form-group">
                <input
                  type="text"
                  id="email"
                  formControlName="email"
                  class="form-control"
                  [(ngModel)]="email"
                />
              </div>
            </div>
            <div class="mb-3">
              <label for="companyName">Company Name:</label>
              <div class="form-group">
                <input
                  type="text"
                  id="companyName"
                  formControlName="companyName"
                  class="form-control"
                  [(ngModel)]="companyName"
                />
              </div>
            </div>
            <div class="mb-3">
              <label for="currentPassword">Current Password:</label>
              <div class="form-group">
                <input
                  type="password"
                  id="currentPassword"
                  formControlName="currentPassword"
                  class="form-control"
                  [(ngModel)]="currentPassword"
                />
              </div>
            </div>
            <div class="mb-3">
              <label for="newPassword">New Password:</label>
              <div class="form-group">
                <input
                  type="password"
                  id="newPassword"
                  formControlName="newPassword"
                  class="form-control"
                  [(ngModel)]="newPassword"
                />
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="modal.close()"
        data-bs-dismiss="modal"
      >
        Cancel
      </button>
      <button
        type="button"
        class="btn btn-success"
        (click)="updateCustomerDetails(); modal.dismiss('Cross click')"
      >
        Update
      </button>
    </div>
  </ng-template>
</div>
